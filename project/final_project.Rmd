---
title: "Maryland Public School Absenteeism Project"
Name: "Stella S. Canino"
---
 
 #Load library
 
```{r}
library(tidyverse)
library(janitor)
library(knitr)      # For nice tables
library(lubridate) 
```

#Loaded the data for absenteeism 

```{r}
absenteeism_2024 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2024.csv") #Post-pandemic
absenteeism_2023 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2023.csv") #Post-pandemic
absenteeism_2022 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2022.csv") #Pandemic
absenteeism_2021 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2021.csv") #Pandemic
absenteeism_2020 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2020.csv") #Pandemic
absenteeism_2019 <- read_csv("~/Documents/GitHub/JOUR405_SSCQ/project/Attendance_2019.csv") #Pre-pandemic
```

**Notes from the data** April 19,2025

The source of this data is the Maryland Report Card Website that is run by the state department of education.
https://reportcard.msde.maryland.gov 

Each of these datasets contains attendance and absence totals and percentages for every individual school in the county, for the entire district, and for the district broken down by elementary, middle, and high school levels.
Each data set is divided by school year. The data also includes the complete total of the entire state, and the total Maryland numbers broken down by elementary, middle, and high school levels. 

It encapsulates the entire school year. I have gathered the schools years of (2019-2024). I wanted to have a good mix of school years before COVID, during and after. 

The most important columns for my analysis is the attendance rate, the county of days attended, chronic absenteeism county, chronic absenteeism percent, and chronic absentee denomination. These will help me measure the scope of schools with high and low chronic absenteeism. 

The thing missing with this data is that it does not provide demographics of the individual schools and
school districts, which is important for my hypothesis that POC students are more likely to be chronically absent and where they are in the state. 

That demographic data I would have to extract it individually from schools, when I find the one with the top chronic absenteeism issue, and then county-wise with demographics. This would be done later once I figure out what are the top counties and schools with chronic absenteeism. 

Questions:

1. When I examined the data, there were some information inside the columns that had this mark (*). What does that mean? Is it just signifying that there's not available data?  What should I do?

2. In attendance rate some of the info inside the column is this >= 95.0. What does this mean? How should interpret this when I start making statistical analysis?

3. Some of the data sets is repetitive. For example, AACPS Virtual Academy is divided in both elementary, middle school and high school, and also has a separate row that includes all of their numbers. What should I do with data like this?

4. Do you think that I will need to incorporate ANOVA, Chi-test or Regression at one point in this project? In what way will I do that?

*Cleaning and viewing the data*

```{r}
glimpse(absenteeism_2024)
glimpse(absenteeism_2023)
glimpse(absenteeism_2022)
glimpse(absenteeism_2021)
glimpse(absenteeism_2020)
glimpse(absenteeism_2019)

#All of the data here has academic year as an interger, and the rest of the numbers as characters. I will be doing the change for this below. 

```

 clean names 
```{r} 

absenteeism_2024 <- absenteeism_2024 |> clean_names()
absenteeism_2023 <- absenteeism_2023 |> clean_names()
absenteeism_2022 <- absenteeism_2022 |> clean_names()
absenteeism_2021 <- absenteeism_2021 |> clean_names()
absenteeism_2020 <- absenteeism_2020 |> clean_names()
absenteeism_2019 <- absenteeism_2019 |> clean_names()

```

mutate to numbers
```{r}

absenteeism_2024 <- absenteeism_2024 |> 
  mutate(across(
    c(attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct, more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct
    ),
    as.numeric
  ))

absenteeism_2023 <- absenteeism_2023 |> 
  mutate(across(
    c(attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct,more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct
    ),
    as.numeric
  ))

absenteeism_2022 <- absenteeism_2022 |> 
  mutate(across(
    c( attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct,more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct ),
    as.numeric))

absenteeism_2021 <- absenteeism_2023 |> 
  mutate(across(
    c( attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct,more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct),
    as.numeric))

absenteeism_2020 <- absenteeism_2020 |> 
  mutate(across(
    c(attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct,more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct
    ), as.numeric))

absenteeism_2019 <- absenteeism_2023 |> 
  mutate(across(
    c(
      attend_rate_pct, days_attended_cnt, days_member_cnt,
      fewer_5_pct, fewer_5_cnt, more_20_pct,more_20_cnt,
      more_90_member_cnt, chronic_absentee_cnt, chronic_absentee_denom, chronic_absentee_pct
    ),
    as.numeric
  ))

```

#There's this column called create data AND LEA(LSS SAME THING) that doesn't have anything to do with my data so I'm just cleaning it up. 

```{r}
absenteeism_2024 <- absenteeism_2024 |>
  select(-create_date, -lea_number)

absenteeism_2023 <- absenteeism_2023 |>
  select(-create_date, -lea_number)

absenteeism_2022 <- absenteeism_2022 |>
  select(-create_date, -lea_number)

absenteeism_2021 <- absenteeism_2021 |>
  select(-create_date, -lea_number)

absenteeism_2020 <- absenteeism_2020 |>
  select(-create_date, -lss_number)

absenteeism_2019 <- absenteeism_2019 |>
  select(-create_date, -lea_number)

```

#Filter out non-numeric value. 

```{r}
absenteeism_2024 <- absenteeism_2024 |> filter(days_attended_cnt != "*")

absenteeism_2023 <- absenteeism_2023 |> filter(days_attended_cnt != "*")
                                               
absenteeism_2022 <- absenteeism_2022 |> filter(days_attended_cnt != "*")                                           
absenteeism_2021 <- absenteeism_2021 |> filter(days_attended_cnt != "*")

absenteeism_2020 <- absenteeism_2020 |> filter(days_attended_cnt != "*")

absenteeism_2019 <- absenteeism_2019 |> filter(days_attended_cnt != "*")

```

April 26, 2025 Final Project: The Test You Could Run

Question: What does chronic_absentee_denom mean?

I first started to check the preliminary output without any analysis about the
data set. I'm just using 2019 and 2024 as a way to understand what I could 
possibly expect from the tests I could do. 

In 2019 and 2024, Baltimore City schools and Dorchester schools are still in the
top 2 spots of districts with the highest chronic percent of absentee. This was
code 4. 

Achievement Academy at Harbor City High is the school with the highest
chronic absenteeism in 2024, with 93.8%.

Meadowood Education Center is the schools with the highest chronic absenteeism
in 2019, with 94.2%

High Point High has the highest Count of chronic absenteeism in 2024 with 1588.
However, the chronic absenteeism rate is 47.6%.

This means that there isn't a direct relation with rate and count. This means 
that you could have the highest percentage of absenteeism, but not the highest 
count.

Question: For the test, what should I use for tests? The percentages or the 
counts?

Excel Academy at Francis M. Wood High has the lowest attendance rate with 44.2%
in 2024. Interesting enough, the chronic absenteeism percent is NA. 

Achievement Academy at Harbor City High had the lowest attendance rate with 33.8%. 
Their chronic absenteeism percent is also shown NA.

By ONLY looking at 2019 v. 2024, it looks like there is a decrease BUT that's 
just comparing individual numbers.


```{r}
#This is my code to view what are schools in Maryland with the highest rate of chronic absenteeism. 
#I wanted to see the difference between the percent and count.

absenteeism_2024 |> filter(school_number != "A", school_type != "All") |> 
  arrange(desc(chronic_absentee_pct))

absenteeism_2024 |> filter(school_number != "A", school_type != "All") |> 
  arrange(desc(chronic_absentee_cnt)) 

absenteeism_2024 |> filter(school_number != "A", school_type != "All") |>
  arrange((attend_rate_pct))

absenteeism_2024 |> filter(school_number == "A", school_type == "All") |>
  arrange((desc(chronic_absentee_pct)))

```

















```{r}
absenteeism_2019 |> filter(school_number != "A", school_type != "All") |> 
  arrange(desc(chronic_absentee_pct))

absenteeism_2019 |> filter(school_number != "A", school_type != "All") |> 
  arrange(desc(chronic_absentee_cnt)) 

absenteeism_2019 |> filter(school_number != "A", school_type != "All") |>
  arrange((attend_rate_pct))

absenteeism_2019 |> filter(school_number == "A", school_type == "All") |>
  arrange((desc(chronic_absentee_pct)))



```

Possible Tests:

For my project, I wanted to see if the schools with the highest rate of 
chronic absenteeism also have high rates of diversity. My hypothesis is that 
schools with high percentages of diversity may also have high rates of 
absenteeism. 

Because, its not readily available to get the demographics data. I need to
first find the schools that have the highest rate of chronic absenteeism.
(I downloaded a lot of data, but I'm not sure if I can handle doing all of these
tests for all of these dates. I might reduce it to one year or three years, so
I don't overwork myself to oblivion.)

I was thinking of gathering the top 50 to 100 schools with chronic absenteism.
Then, once I got that find a way to incorporate the individual demographics data.

Once I'm able to do that. I believe a linear regression because I'm going to 
compare chronic absenteeism rate, and diversity rates for the schools. I want 
to see if one predicts the other or is associated linearly. It's because we are 
testing the relationship between 2 numeric variables. 

I would say linear regression is the best option, but IDK if the other tests
can also be used as well. 

------------------------------------------------------

find means. SD, z-score
- URL 

Try to apply some of the code that we've used to your data to actually run some of those tests. See how far you get. When you run into errors - and that's absolutely the goal here - try to figure out what the error messages mean, through searching the web. If you use AI for this, you must create a share link and include the link in your notebook.

For any results that you're able to generate, tell me what you think they say in the notebook. Again, the more detail, the higher your grade.

**Trials, Errors and Lessons**

* I joined all of my datasets but when I try to search 2019 on "total" it doesn't show up. However, I know the data was inputed because when i deleted the 2019 dataset from the join the numbers decrease.
- What's going on here?

Also, when I did the SD and mean 2021 showed up with NaN response. I couldn't do Mean or SD of 2019 due to problem listed above. 

#The TOTAL mean is 33.439%, and 17.11256 is the standard deviation.
#The 2020 mean is 27.3189 and SD 15.66334	
#The 2022 mean 37.80146	and SD 17.57472	
#The 2023 mean 34.04564	and SD 17.02846	
#The 2024 mean 31.77588	and SD 16.47358	

This means that most schools tend to be between +17% or -17% from the mean.

*From viewing the different emans we see that the mean abesenteeism has gone up. 

```{r}
#combinar la data
#LOOK AT JOUR472 HW 4 or 5??

total <- bind_rows(absenteeism_2024, absenteeism_2023, absenteeism_2022, absenteeism_2021, absenteeism_2020, absenteeism_2019)

glimpse(total)

```

You should combine all six years into a single dataframe so you can do overall means/std dev (you can still do year-by-by using group_by(year). And you should use janitor to make the column names easier to work with.

I would use the rates, not the counts, for your metrics here because school sizes vary.
Regression will be useful, and so might z-scores to find the outliers. Start with means/sd, make some scatterplots.

```{r}
##Look for total mean, standard deviation. Then also check for the year-by-year one. 

#I'm looking at the chronic absenteeism percentage
#How to do it with columns is in JOUR472 github???? 
total |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```


```{r}
total |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )


```
```{r}
total |> 
  filter(academic_year == "2021") |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```


```{r}
total |> 
  filter(academic_year == "2020") |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```
```{r}
total |> 
  filter(academic_year == "2022") |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```

```{r}
total |> 
  filter(academic_year == "2023") |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```


```{r}
total |> 
  filter(academic_year == "2024") |> 
  summarise(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE)
  )
```

Z-SCORE TEST

a. This is the actual test.

```{r}
total <- total |>
  mutate(
    mean_chronic_absent = mean(chronic_absentee_pct, na.rm = TRUE),
    sd_chronic_absent = sd(chronic_absentee_pct, na.rm = TRUE),
    z_score = (chronic_absentee_pct - mean_chronic_absent) / sd_chronic_absent
  )
```

b. This is where we view it. 

```{r}
outlier <- total |>
  filter(school_number != "A", school_type != "All") |>
  filter(abs(z_score) > 2) |>
  select(academic_year, school_name, school_type, z_score) |>
  arrange(desc(z_score))



```

Z-SCORE EXTREME TEST

```{r}
extreme_outliers <- total |>
  filter(school_number != "A", school_type != "All") |>
  filter(abs(z_score) > 3) |>
  arrange(desc(abs(z_score)))

```

These are the top schools that have high z-scores >3

1. Meadowood Education Center in 2023
2. Renaissance Academy in 2022
3.Achievement Academy at Harbor City High in 2024
4.Excel Academy at Francis M. Wood High in 2022

*All of these are in Baltimore County and Baltimore City.

To Derek:

- I did the Z-score test and was able to see what schools are the worst in range of absenteeism. 

- I would not say that I have completely proven that absenteeism has increased in Md public schools, but I'm getting there.

- There are 412 outliers from individual schools and 85 are extreme outliers. 

- Now we have a number of the schools that can be possibly used to see about the ethnicity thing originally.

*I have not been able to completely prove that absenteeism has increased* I'm on my way to do it, but what should I do to prove it then?



























